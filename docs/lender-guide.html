<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lender Guide - Lendefi Markets</title>
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #e5e7eb;
            background: #111827;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: rgba(17, 24, 39, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo span {
            background: linear-gradient(135deg, #0ea5e9, #14b8a6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
        }
        
        .nav-links a {
            color: #9ca3af;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: #14b8a6;
        }
        
        main {
            padding: 2rem 0;
        }
        
        .docs-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .docs-header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #0ea5e9, #14b8a6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .docs-content {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 3rem;
        }
        
        .sidebar {
            background: rgba(17, 24, 39, 0.5);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            height: fit-content;
            position: sticky;
            top: 120px;
        }
        
        .sidebar h3 {
            color: #14b8a6;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .sidebar ul {
            list-style: none;
        }
        
        .sidebar li {
            margin-bottom: 0.5rem;
        }
        
        .sidebar a {
            color: #9ca3af;
            text-decoration: none;
            padding: 0.5rem;
            display: block;
            border-radius: 6px;
            transition: all 0.3s;
        }
        
        .sidebar a:hover {
            background: rgba(20, 184, 166, 0.1);
            color: #14b8a6;
        }
        
        .content {
            background: rgba(17, 24, 39, 0.5);
            padding: 3rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .content h2 {
            color: #14b8a6;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .content h3 {
            color: #0ea5e9;
            margin: 2rem 0 1rem 0;
        }
        
        .content h4 {
            color: #f59e0b;
            margin: 1.5rem 0 0.75rem 0;
        }
        
        .content p, .content li {
            margin-bottom: 1rem;
            color: #d1d5db;
        }
        
        .content ul, .content ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }
        
        .highlight {
            background: rgba(20, 184, 166, 0.1);
            border-left: 4px solid #14b8a6;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 6px 6px 0;
        }
        
        .warning {
            background: rgba(245, 158, 11, 0.1);
            border-left: 4px solid #f59e0b;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 6px 6px 0;
        }
        
        .step-card {
            background: rgba(31, 41, 55, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            position: relative;
        }
        
        .step-number {
            position: absolute;
            top: -10px;
            left: 20px;
            background: #14b8a6;
            color: #111827;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.875rem;
        }
        
        .step-title {
            color: #0ea5e9;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .code-block {
            background: #1f2937;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            overflow-x: auto;
        }
        
        .code-block code {
            color: #e5e7eb;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.875rem;
        }
        
        .info-box {
            border-radius: 8px;
            padding: 16px;
            margin: 1rem 0;
        }
        
        .info-box.blue {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        
        .info-box.green {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        
        .info-box.yellow {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }
        
        .info-box.purple {
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
        }
        
        .info-box.red {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin: 24px 0;
        }
        
        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 24px;
            margin: 24px 0;
        }
        
        .revenue-card {
            background: rgba(31, 41, 55, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .revenue-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .revenue-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .apy-display {
            background: linear-gradient(135deg, #10b981, #14b8a6);
            color: white;
            font-size: 2rem;
            font-weight: bold;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            margin: 1rem 0;
        }
        
        @media (max-width: 768px) {
            .docs-content {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: static;
            }
            
            .docs-header h1 {
                font-size: 2rem;
            }
            
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav class="nav">
                <div class="logo">
                    <span>Lendefi Markets</span>
                </div>
                <div class="nav-links">
                    <a href="/">Home</a>
                    <a href="index.html">Documentation</a>
                    <a href="market-owner-guide.html">Market Owner Guide</a>
                    <a href="borrower-guide.html">Borrower Guide</a>
                    <a href="/contact">Contact</a>
                </div>
            </nav>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="docs-header">
                <h1><span class="gradient-text">Lender</span> Guide</h1>
                <p>Complete guide to earning yield by providing liquidity in Lendefi Markets</p>
            </div>

            <div class="docs-content">
                <aside class="sidebar">
                    <h3>Table of Contents</h3>
                    <ul>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#getting-started">Getting Started</a></li>
                        <li><a href="#deposit-liquidity">1. Deposit Liquidity</a></li>
                        <li><a href="#revenue-streams">2. Earn Revenue</a></li>
                        <li><a href="#monitor-performance">3. Monitor Performance</a></li>
                        <li><a href="#claim-rewards">4. Claim Rewards</a></li>
                        <li><a href="#withdraw-liquidity">5. Withdraw Liquidity</a></li>
                        <li><a href="#strategies">Yield Strategies</a></li>
                        <li><a href="#risk-considerations">Risk Considerations</a></li>
                        <li><a href="#examples">Code Examples</a></li>
                    </ul>
                </aside>

                <div class="content">
                    <section id="overview">
                        <h2>Overview</h2>
                        <p>As a lender in Lendefi Markets, you provide liquidity to isolated lending markets and earn yield from multiple revenue streams. Your funds are represented by ERC-4626 compliant vault shares that automatically appreciate in value as the market generates revenue.</p>
                        
                        <div class="highlight">
                            <strong>Key Benefits for Lenders:</strong>
                            <ul>
                                <li>Earn competitive APY on your digital assets</li>
                                <li>Multiple revenue streams: interest, flash loans, liquidations</li>
                                <li>ERC-4626 standard for maximum DeFi compatibility</li>
                                <li>Isolated markets reduce systemic risk</li>
                                <li>Governance rewards for long-term participants</li>
                                <li>Instant liquidity through vault shares</li>
                            </ul>
                        </div>

                        <div class="apy-display">
                            🎯 Typical APY Range: 3-12%
                        </div>

                        <div class="info-box blue">
                            <strong>How Lender Returns Work:</strong>
                            <p>When you deposit assets, you receive vault shares that represent your claim on the growing pool. As borrowers pay interest, flash loan fees are collected, and liquidations occur, the total value of the vault increases. Your shares automatically become worth more of the underlying asset over time.</p>
                        </div>
                    </section>

                    <section id="getting-started">
                        <h2>Getting Started</h2>
                        <p>Lending in Lendefi Markets is straightforward and follows the ERC-4626 vault standard that you may be familiar with from other DeFi protocols.</p>

                        <div class="grid-2">
                            <div class="info-box green">
                                <h5>✅ What You Need</h5>
                                <ul>
                                    <li>Supported base assets (USDC, USD1, USDT, etc.)</li>
                                    <li>Web3 wallet (MetaMask, WalletConnect, etc.)</li>
                                    <li>ETH for gas fees</li>
                                    <li>Understanding of DeFi risks</li>
                                </ul>
                            </div>
                            
                            <div class="info-box blue">
                                <h5>📊 Market Selection</h5>
                                <ul>
                                    <li>Compare APY rates across different markets</li>
                                    <li>Check market utilization and TVL</li>
                                    <li>Review the market owner's reputation</li>
                                    <li>Assess collateral asset diversity</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section id="deposit-liquidity">
                        <h2>Step 1: Deposit Liquidity</h2>
                        <p>Start earning immediately by depositing your assets into any active Lendefi market. Your assets are converted to ERC-4626 vault shares that appreciate in value.</p>

                        <div class="step-card">
                            <div class="step-number">1</div>
                            <div class="step-title">Choose Your Market</div>
                            <p>Select the market that best fits your risk tolerance and yield expectations.</p>
                            
                            <div class="info-box yellow">
                                <strong>Market Comparison Factors:</strong>
                                <ul>
                                    <li><strong>APY:</strong> Current annual percentage yield</li>
                                    <li><strong>TVL:</strong> Total value locked indicates market maturity</li>
                                    <li><strong>Utilization:</strong> Higher utilization = higher yields but less liquidity</li>
                                    <li><strong>Collateral Diversity:</strong> More collateral types = broader earning potential</li>
                                    <li><strong>Market Owner:</strong> Reputation and track record</li>
                                </ul>
                            </div>
                        </div>

                        <div class="step-card">
                            <div class="step-number">2</div>
                            <div class="step-title">Deposit Your Assets</div>
                            <p>Supply base assets to the market vault and receive vault shares representing your position.</p>
                            
                            <div class="code-block">
                                <pre><code class="language-solidity">// Approve the market core contract to spend your tokens
usdc.approve(address(marketCore), depositAmount);

// Get expected shares from the vault
uint256 expectedShares = marketVault.previewDeposit(depositAmount);

// Deposit with MEV protection
marketCore.depositLiquidity(
    depositAmount,     // Amount of USDC to deposit
    expectedShares,    // Expected vault shares to receive
    100               // Maximum 1% slippage
);</code></pre>
                            </div>

                            <div class="info-box green">
                                <strong>What Happens During Deposit:</strong>
                                <ul>
                                    <li>Your base assets are transferred to the market vault</li>
                                    <li>You receive ERC-4626 vault shares in return</li>
                                    <li>Shares immediately start earning yield</li>
                                    <li>MEV protection prevents front-running</li>
                                    <li>You can track your position in real-time</li>
                                </ul>
                            </div>
                        </div>

                        <div class="warning">
                            <strong>💡 Pro Tip:</strong> Start with smaller amounts to test the market and understand the yield patterns before making larger deposits. Each market has different risk/reward profiles.
                        </div>
                    </section>

                    <section id="revenue-streams">
                        <h2>Step 2: Earn from Multiple Revenue Streams</h2>
                        <p>Your vault shares automatically appreciate through various yield sources within the Lendefi ecosystem.</p>

                        <div class="grid-3">
                            <div class="revenue-card">
                                <div class="revenue-icon">💰</div>
                                <h4 style="color: #10b981;">Interest Income</h4>
                                <p>Primary yield from borrower interest payments. Rates adjust dynamically based on market utilization.</p>
                                <div style="font-size: 1.25rem; font-weight: bold; color: #10b981; margin-top: 1rem;">
                                    3-8% APY
                                </div>
                            </div>
                            
                            <div class="revenue-card">
                                <div class="revenue-icon">⚡</div>
                                <h4 style="color: #3b82f6;">Flash Loan Fees</h4>
                                <p>Earn 9 basis points (0.09%) on every flash loan transaction in your market.</p>
                                <div style="font-size: 1.25rem; font-weight: bold; color: #3b82f6; margin-top: 1rem;">
                                    0.5-2% APY Boost
                                </div>
                            </div>
                            
                            <div class="revenue-card">
                                <div class="revenue-icon">🎯</div>
                                <h4 style="color: #f59e0b;">Liquidation Proceeds</h4>
                                <p>Share in profits from liquidating unhealthy borrower positions.</p>
                                <div style="font-size: 1.25rem; font-weight: bold; color: #f59e0b; margin-top: 1rem;">
                                    Variable Boost
                                </div>
                            </div>
                        </div>

                        <div class="grid-2">
                            <div class="info-box purple">
                                <h5>🚀 Additional Yield Sources</h5>
                                <ul>
                                    <li><strong>Governance Rewards:</strong> Long-term liquidity providers earn governance tokens</li>
                                    <li><strong>Yield Boosts:</strong> Market owners can share additional profits</li>
                                    <li><strong>Protocol Incentives:</strong> Special rewards during growth phases</li>
                                    <li><strong>Compound Interest:</strong> All yields are automatically reinvested</li>
                                </ul>
                            </div>
                            
                            <div class="info-box blue">
                                <h5>📈 Yield Optimization</h5>
                                <ul>
                                    <li><strong>Higher Utilization = Higher Yields:</strong> More borrowing activity increases returns</li>
                                    <li><strong>Flash Loan Volume:</strong> Active arbitrage and liquidation bots boost fees</li>
                                    <li><strong>Market Maturity:</strong> Established markets often provide more stable yields</li>
                                    <li><strong>Collateral Diversity:</strong> More asset types increase earning opportunities</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section id="monitor-performance">
                        <h2>Step 3: Monitor Your Performance</h2>
                        <p>Track your investment performance and understand market dynamics to optimize your lending strategy.</p>

                        <div class="step-card">
                            <div class="step-number">1</div>
                            <div class="step-title">Track Key Metrics</div>
                            <p>Monitor important performance indicators for your lending position.</p>
                            
                            <div class="code-block">
                                <pre><code class="language-solidity">// Check current supply rate (APY)
uint256 currentAPY = marketVault.getSupplyRate(); // Returns rate in 1e6 format

// Check market utilization
uint256 utilization = marketVault.utilization(); // Percentage of funds borrowed

// Check your current position value
uint256 yourShares = marketVault.balanceOf(yourAddress);
uint256 currentValue = marketVault.previewRedeem(yourShares);

// Check total vault performance
uint256 totalVaultValue = marketVault.totalBase();
uint256 totalShares = marketVault.totalSupply();</code></pre>
                            </div>
                        </div>

                        <div class="step-card">
                            <div class="step-number">2</div>
                            <div class="step-title">Understand Market Dynamics</div>
                            <p>Learn how market conditions affect your returns.</p>
                            
                            <div class="grid-2">
                                <div class="info-box green">
                                    <h5>🔥 High Yield Periods</h5>
                                    <ul>
                                        <li>High utilization (>80%)</li>
                                        <li>Active flash loan usage</li>
                                        <li>Liquidation events</li>
                                        <li>Market stress periods</li>
                                    </ul>
                                </div>
                                
                                <div class="info-box blue">
                                    <h5>📊 Market Health Indicators</h5>
                                    <ul>
                                        <li>Stable or growing TVL</li>
                                        <li>Diverse borrower base</li>
                                        <li>Active governance participation</li>
                                        <li>Regular market owner updates</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="step-card">
                            <div class="step-number">3</div>
                            <div class="step-title">Portfolio Management</div>
                            <p>Optimize your lending portfolio across multiple markets.</p>
                            
                            <div class="info-box yellow">
                                <strong>Diversification Strategies:</strong>
                                <ul>
                                    <li><strong>Multi-Market:</strong> Spread across different base assets (USDC, USD1, USDT)</li>
                                    <li><strong>Risk Laddering:</strong> Mix conservative and aggressive markets</li>
                                    <li><strong>Utilization Balance:</strong> Combine high-yield and high-liquidity positions</li>
                                    <li><strong>Market Owner Diversity:</strong> Avoid concentration with single market owners</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section id="claim-rewards">
                        <h2>Step 4: Claim Governance Rewards</h2>
                        <p>Long-term liquidity providers can earn additional governance tokens on top of regular yield.</p>

                        <div class="step-card">
                            <div class="step-number">1</div>
                            <div class="step-title">Check Reward Eligibility</div>
                            <p>Verify if you meet the requirements for governance token rewards.</p>
                            
                            <div class="code-block">
                                <pre><code class="language-solidity">// Check if you're eligible for rewards
bool isEligible = marketVault.isRewardable(yourAddress);

// View your current reward balance (if eligible)
if (isEligible) {
    // Eligibility confirmed - rewards available
} else {
    // Check requirements: minimum amount and time
}</code></pre>
                            </div>
                        </div>

                        <div class="step-card">
                            <div class="step-number">2</div>
                            <div class="step-title">Claim Your Rewards</div>
                            <p>Claim available governance tokens when eligible.</p>
                            
                            <div class="code-block">
                                <pre><code class="language-solidity">// Claim governance token rewards
uint256 rewardAmount = marketVault.claimReward();

// Note: Claiming resets your eligibility timer
// You'll need to maintain minimum liquidity for the required period again</code></pre>
                            </div>

                            <div class="info-box green">
                                <strong>Reward Requirements:</strong>
                                <ul>
                                    <li>Maintain minimum liquidity amount</li>
                                    <li>Keep funds deposited for required time period</li>
                                    <li>Active participation in governance (optional bonus)</li>
                                    <li>Claiming resets the eligibility timer</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section id="withdraw-liquidity">
                        <h2>Step 5: Withdraw Your Liquidity</h2>
                        <p>Exit your position using standard ERC-4626 withdrawal methods with MEV protection.</p>

                        <div class="step-card">
                            <div class="step-number">1</div>
                            <div class="step-title">Choose Withdrawal Method</div>
                            <p>Decide between withdrawing specific amounts or redeeming shares.</p>
                            
                            <div class="grid-2">
                                <div class="info-box blue">
                                    <h5>💰 Withdraw Method</h5>
                                    <p>Specify the exact amount of underlying assets you want to receive.</p>
                                    <div class="code-block">
                                        <pre><code class="language-solidity">// Withdraw specific amount
uint256 withdrawAmount = 1000e6; // 1000 USDC
marketVault.withdraw(
    withdrawAmount,
    yourAddress,  // receiver
    yourAddress   // owner
);</code></pre>
                                    </div>
                                </div>
                                
                                <div class="info-box green">
                                    <h5>🎫 Redeem Method</h5>
                                    <p>Redeem a specific number of vault shares for underlying assets.</p>
                                    <div class="code-block">
                                        <pre><code class="language-solidity">// Redeem specific shares
uint256 sharesToRedeem = 1000e6; // 1000 shares
marketVault.redeem(
    sharesToRedeem,
    yourAddress,  // receiver
    yourAddress   // owner
);</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="step-card">
                            <div class="step-number">2</div>
                            <div class="step-title">Check Withdrawal Limits</div>
                            <p>Ensure sufficient liquidity is available for your withdrawal.</p>
                            
                            <div class="code-block">
                                <pre><code class="language-solidity">// Check maximum withdrawal amounts
uint256 maxWithdraw = marketVault.maxWithdraw(yourAddress);
uint256 maxRedeem = marketVault.maxRedeem(yourAddress);

// Preview withdrawal to see exact amounts
uint256 sharesToBurn = marketVault.previewWithdraw(withdrawAmount);
uint256 assetsToReceive = marketVault.previewRedeem(shareAmount);</code></pre>
                            </div>

                            <div class="warning">
                                <strong>⚠️ Liquidity Considerations:</strong> If market utilization is very high (>90%), you may need to wait for borrowers to repay loans before making large withdrawals. Consider partial withdrawals or monitoring utilization rates.
                            </div>
                        </div>
                    </section>

                    <section id="strategies">
                        <h2>Yield Strategies</h2>
                        <p>Different approaches to maximize your lending returns in Lendefi Markets.</p>

                        <div class="grid-2">
                            <div class="info-box green">
                                <h5>🛡️ Conservative Strategy</h5>
                                <ul>
                                    <li><strong>Target:</strong> Stable 3-6% APY</li>
                                    <li><strong>Markets:</strong> Established markets with strong TVL</li>
                                    <li><strong>Assets:</strong> Stablecoin markets (USDC, USD1)</li>
                                    <li><strong>Utilization:</strong> 50-70% range</li>
                                    <li><strong>Benefits:</strong> Predictable returns, high liquidity</li>
                                </ul>
                            </div>
                            
                            <div class="info-box yellow">
                                <h5>⚡ Aggressive Strategy</h5>
                                <ul>
                                    <li><strong>Target:</strong> 8-15% APY</li>
                                    <li><strong>Markets:</strong> Newer markets, volatile assets</li>
                                    <li><strong>Assets:</strong> ETH, BTC, altcoin markets</li>
                                    <li><strong>Utilization:</strong> 80%+ range</li>
                                    <li><strong>Benefits:</strong> Higher yields, more upside</li>
                                </ul>
                            </div>
                        </div>

                        <div class="info-box purple">
                            <h5>🎯 Balanced Portfolio Approach</h5>
                            <ul>
                                <li><strong>70% Conservative:</strong> Stable markets for base yield</li>
                                <li><strong>20% Moderate:</strong> Mid-tier markets for enhanced returns</li>
                                <li><strong>10% Aggressive:</strong> High-yield opportunities for upside</li>
                                <li><strong>Rebalancing:</strong> Monthly review and adjustment</li>
                                <li><strong>Benefits:</strong> Risk-adjusted returns with diversification</li>
                            </ul>
                        </div>
                    </section>

                    <section id="risk-considerations">
                        <h2>Risk Considerations</h2>
                        <p>Understanding and managing risks is crucial for successful lending in DeFi markets.</p>

                        <div class="grid-2">
                            <div class="info-box red">
                                <h5>⚠️ Primary Risks</h5>
                                <ul>
                                    <li><strong>Liquidity Risk:</strong> High utilization may delay withdrawals</li>
                                    <li><strong>Smart Contract Risk:</strong> Code bugs or vulnerabilities</li>
                                    <li><strong>Market Owner Risk:</strong> Poor management decisions</li>
                                    <li><strong>Oracle Risk:</strong> Price feed manipulation or failure</li>
                                    <li><strong>Regulatory Risk:</strong> Changing legal landscape</li>
                                </ul>
                            </div>
                            
                            <div class="info-box blue">
                                <h5>🛡️ Risk Mitigation</h5>
                                <ul>
                                    <li><strong>Diversification:</strong> Spread across multiple markets</li>
                                    <li><strong>Due Diligence:</strong> Research market owners and contracts</li>
                                    <li><strong>Position Sizing:</strong> Never invest more than you can afford to lose</li>
                                    <li><strong>Monitor Utilization:</strong> Watch for liquidity constraints</li>
                                    <li><strong>Stay Informed:</strong> Follow protocol updates and governance</li>
                                </ul>
                            </div>
                        </div>

                        <div class="warning">
                            <strong>🔍 Red Flags to Watch:</strong>
                            <ul>
                                <li>Consistently high utilization (>95%) with no new liquidity</li>
                                <li>Frequent oracle price deviations or failures</li>
                                <li>Market owner making frequent aggressive parameter changes</li>
                                <li>Declining TVL without clear market reasons</li>
                                <li>Multiple liquidation events in short timeframes</li>
                            </ul>
                        </div>
                    </section>

                    <section id="examples">
                        <h2>Complete Example: USDC Lending</h2>
                        
                        <div class="code-block">
                            <pre><code class="language-solidity">// Complete USDC lending example
contract LenderExample {
    IERC20 usdc = IERC20(0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48);
    ILendefiCore marketCore;
    ILendefiMarketVault marketVault;
    
    function depositLiquidity() external {
        uint256 depositAmount = 10_000e6; // 10,000 USDC
        
        // 1. Approve the market core contract
        usdc.approve(address(marketCore), depositAmount);
        
        // 2. Preview expected shares
        uint256 expectedShares = marketVault.previewDeposit(depositAmount);
        
        // 3. Deposit with slippage protection
        marketCore.depositLiquidity(
            depositAmount,
            expectedShares,
            100 // 1% max slippage
        );
        
        emit LiquidityDeposited(msg.sender, depositAmount, expectedShares);
    }
    
    function monitorPerformance() external view returns (
        uint256 currentAPY,
        uint256 utilization,
        uint256 yourValue,
        uint256 totalGrowth
    ) {
        // Current market metrics
        currentAPY = marketVault.getSupplyRate();
        utilization = marketVault.utilization();
        
        // Your position value
        uint256 yourShares = marketVault.balanceOf(msg.sender);
        yourValue = marketVault.previewRedeem(yourShares);
        
        // Calculate total vault growth
        uint256 totalAssets = marketVault.totalBase();
        uint256 totalShares = marketVault.totalSupply();
        totalGrowth = totalAssets > totalShares ? 
            ((totalAssets - totalShares) * 10000) / totalShares : 0; // Growth in bps
    }
    
    function claimGovernanceRewards() external {
        // Check eligibility
        require(marketVault.isRewardable(msg.sender), "Not eligible for rewards");
        
        // Claim rewards
        uint256 rewardAmount = marketVault.claimReward();
        
        emit RewardsClaimed(msg.sender, rewardAmount);
    }
    
    function withdrawLiquidity(uint256 amount) external {
        // Check maximum withdrawal
        uint256 maxWithdraw = marketVault.maxWithdraw(msg.sender);
        require(amount &lt;= maxWithdraw, "Insufficient liquidity");
        
        // Withdraw specific amount
        uint256 receivedAmount = marketVault.withdraw(
            amount,
            msg.sender,
            msg.sender
        );
        
        emit LiquidityWithdrawn(msg.sender, amount, receivedAmount);
    }
    
    function redeemShares(uint256 shares) external {
        // Check maximum redemption
        uint256 maxRedeem = marketVault.maxRedeem(msg.sender);
        require(shares &lt;= maxRedeem, "Insufficient liquidity");
        
        // Preview redemption amount
        uint256 expectedAssets = marketVault.previewRedeem(shares);
        
        // Redeem shares
        uint256 receivedAssets = marketVault.redeem(
            shares,
            msg.sender,
            msg.sender
        );
        
        emit SharesRedeemed(msg.sender, shares, receivedAssets);
    }
    
    // Events
    event LiquidityDeposited(address indexed user, uint256 amount, uint256 shares);
    event LiquidityWithdrawn(address indexed user, uint256 requested, uint256 received);
    event SharesRedeemed(address indexed user, uint256 shares, uint256 assets);
    event RewardsClaimed(address indexed user, uint256 amount);
}</code></pre>
                        </div>

                        <div class="highlight">
                            <strong>💡 Pro Tips for Lenders:</strong>
                            <ul>
                                <li>Monitor utilization rates - they directly impact your yields and liquidity</li>
                                <li>Consider the governance token rewards for long-term positions</li>
                                <li>Diversify across multiple markets to reduce concentration risk</li>
                                <li>Use partial withdrawals during high utilization periods</li>
                                <li>Track flash loan activity as it boosts your yields significantly</li>
                                <li>Stay engaged with market owner updates and governance decisions</li>
                            </ul>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <!-- Prism.js for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>